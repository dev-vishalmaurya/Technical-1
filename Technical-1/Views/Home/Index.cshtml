
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutHome.cshtml";
}


@{
    string gender = "";
 
    
    

}

<div class="container">
    <h1 class="text-center my-5">Technical round Task</h1>
</div>
<div class="row">
    <div class="col"></div>
    <div class="col"></div>
    <div class="col"></div>
    <div class="col">
        
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            New Student
        </button>

        <!-- Modal -->
        <div class="modal fade " id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class=" modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel"> Add New Student</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">

                        <form method="post">

                            <input type="number" id="id" hidden name="id" />
                            <label for="fName">First Name</label>

                            <input class="form-control" type="text" id="fName" name="fname" />

                            <label for="lName">Last Name</label>
                            <input class="form-control" type="text" id="lName" name="lname" />

                            <label for="dob">Date Of Birth</label>
                            <input class="form-control" type="text" id="dob" name="dob" />

                            <label>Gender</label> <br />
                            @if (gender != "Female")
                            {
                                <input type="radio" name="gender" checked value="Male" />@:Male
                                <input type = "radio" name = "gender" value = "Female" /> @:Female

                                            }
                            else
                            {
                                <input type="radio" name="gender" value="Male" />@:Male
                                <input type = "radio" checked name = "gender" value = "Female" /> @:Female
                                        }

                            <br />

                            <label> Select Teacher </label>
                            <select class="form-control" id="teacher" name="teacher">
                                <option>-- select Teacher --</option>
                                @if (ViewBag.teacher != null)
                                {
                                    foreach (var row in ViewBag.teacher.Rows)
                                    {
                                        <option value=@row[0]>@row[1]</option>

                                    }

                                }
                            </select>
                            <br />

                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <input type="submit" class="btn btn-primary" value="Submit">

                        </form>

                    </div>
                    @*<div class="modal-footer">
                        </div>*@

                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">

    <table class="table table-striped table-primary table-bordered">
        <thead>
            <tr>
                <th>Id</th>
                <th>Student Name</th>
                <th>DOB </th>
                <th>Gender</th>
                <th>Teacher Name</th>
                <th>Action</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var i in ViewBag.data.Rows)
            {
                <tr>
                    <td>@i[0]</td>
                    <td>@i[1]</td>
                    <td>@i[2]</td>
                    <td>@i[3]</td>
                    <td>@i[4]</td>
                    <td>

                        <a class="btn btn-outline-success" href="/home/editdata?id=@i[0]">
                            Edit
                        </a>
                        <a class="btn btn-outline-danger" href="/home/delete?id=@i[0]">Delete</a>


                    </td>

                </tr>
            }
        </tbody>
    </table>

 
  

</div>
